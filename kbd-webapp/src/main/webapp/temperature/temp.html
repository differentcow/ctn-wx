<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
        <meta name="description" content="">
        <!-- <link rel="shortcut icon" href="#" type="image/png"> -->
        <title>温度</title>
		<!--css just for the preview-->
        <link href="css/styles.css" rel="stylesheet" type="text/css" />
        
        <!--copy this code into your header-->
        <link href="css/goal-thermometer.css" rel="stylesheet" type="text/css" />
        <!-- 新 Bootstrap 核心 CSS 文件 -->
        <link rel="stylesheet" href="../css/bootstrap.min.css">
        <style type="text/css">
            .contain-temp {
                -webkit-box-flex: 1;width: 100%;
            }
            .contain-temp-div {
                -webkit-box-flex: 1;width: 100%;
            }
        </style>
        <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
        <script src="../js/jquery-1.11.1.min.js"></script>
        <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
        <script src="../js/bootstrap.min.js"></script>
        <script type="text/javascript">
            var currentAmount = 0;
			var startAmount = -10;
			function intervalLoad(){
                $.when($.getJSON("/wx/service/temp/real.json?t="+Math.random())).done(function(data){

                    if(data.state != 0){
                        startAmount = currentAmount;
                        currentAmount = data.temperature;
                        animateThermometer();
                    }

                    setTimeout(function(){
                        intervalLoad();
                    },5000);

                }).fail(function(error){
                    console.log(error);
                });
			}
        </script>
        <script src="js/jquery-latest.js"></script>
        <script type="text/javascript" src="js/goal-thermometer.js"></script>
        <!--end copy-->
	</head>
	<body onload="intervalLoad()">
    <div class="contain-temp">
                <div id="centered" class="contain-temp-div">
                    <!--add this line to the html where you want the thermometer-->
                    <div id="goal-thermometer"></div>
                </div>
                <div style="text-align: center;" class="contain-temp-div">
                    <a href="temp_detail2.html" style="color: #ffffff;">图表（天）</a>&nbsp;&nbsp;<a href="list.html" style="color: #ffffff;">返回列表</a>
                </div>
    </div>
	</body>
</html>